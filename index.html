<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>K-POP COUNTDOWN</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        * { font-family: 'Poppins', sans-serif; }
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(236, 72, 153, 0.4); }
            50% { box-shadow: 0 0 40px rgba(236, 72, 153, 0.8); }
        }
        .animate-pulse-glow { animation: pulse-glow 2s ease-in-out infinite; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Lucide Icons as simple SVG components
        const Heart = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
        );
        const Music = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></svg>
        );
        const Star = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
        );
        const Calendar = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg>
        );
        const Trash2 = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" x2="10" y1="11" y2="17"/><line x1="14" x2="14" y1="11" y2="17"/></svg>
        );
        const Plus = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M5 12h14"/><path d="M12 5v14"/></svg>
        );
        const Sparkles = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M19 17v4"/><path d="M3 5h4"/><path d="M17 19h4"/></svg>
        );
        const Mic2 = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m12 8-9.04 9.06a2.82 2.82 0 1 0 3.98 3.98L16 12"/><circle cx="17" cy="7" r="5"/></svg>
        );
        const PlayCircle = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><polygon points="10 8 16 12 10 16 10 8"/></svg>
        );

        // Arka plan resimleri
        const backgroundImages = [
            "https://images.unsplash.com/photo-1492684223066-81342ee5ff30?q=80&w=1920&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1574155376612-b8441999999a?q=80&w=1920&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1514525253440-b393452e3383?q=80&w=1920&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1470225620780-dba8ba36b745?q=80&w=1920&auto=format&fit=crop"
        ];

        // localStorage key
        const STORAGE_KEY = 'kpop_countdown_events';

        // VarsayÄ±lan etkinlikler
        const defaultEvents = [
            {
                id: 1,
                title: "BLACKPINK Comeback",
                date: "2026-06-15T18:00",
                category: "comeback",
                color: "from-pink-500 to-gray-900"
            },
            {
                id: 2,
                title: "Bias'Ä±n DoÄŸum GÃ¼nÃ¼",
                date: "2026-03-09T00:00",
                category: "birthday",
                color: "from-purple-400 to-blue-400"
            },
            {
                id: 3,
                title: "DÃ¼nya Turu: Ä°stanbul",
                date: "2026-09-20T20:00",
                category: "concert",
                color: "from-rose-400 to-orange-300"
            }
        ];

        const categories = {
            comeback: { label: 'Comeback', icon: <Music size={18} />, bg: 'bg-pink-100', text: 'text-pink-600' },
            birthday: { label: 'DoÄŸum GÃ¼nÃ¼', icon: <Heart size={18} />, bg: 'bg-purple-100', text: 'text-purple-600' },
            concert: { label: 'Konser', icon: <Mic2 size={18} />, bg: 'bg-blue-100', text: 'text-blue-600' },
            debut: { label: 'Debut', icon: <Star size={18} />, bg: 'bg-yellow-100', text: 'text-yellow-600' }
        };

        // Timer Box Component
        function TimerBox({ value, label, color }) {
            return (
                <div className="flex flex-col items-center">
                    <div className={`w-full aspect-square bg-gradient-to-br ${color} rounded-2xl flex items-center justify-center text-white shadow-lg mb-1 relative overflow-hidden`}>
                        <span className="text-2xl md:text-3xl font-black tracking-tighter drop-shadow-sm">
                            {String(value).padStart(2, '0')}
                        </span>
                    </div>
                    <span className="text-[10px] font-bold text-gray-400 tracking-widest uppercase">{label}</span>
                </div>
            );
        }

        function App() {
            // localStorage'dan etkinlikleri yÃ¼kle
            const loadEvents = () => {
                const saved = localStorage.getItem(STORAGE_KEY);
                if (saved) {
                    return JSON.parse(saved);
                }
                return defaultEvents;
            };

            const [events, setEvents] = useState(loadEvents);
            const [timeLeft, setTimeLeft] = useState({});
            const [showModal, setShowModal] = useState(false);
            const [currentBgIndex, setCurrentBgIndex] = useState(0);

            const [newEvent, setNewEvent] = useState({
                title: '',
                date: '',
                category: 'comeback'
            });

            // Etkinlikler deÄŸiÅŸtiÄŸinde localStorage'a kaydet
            useEffect(() => {
                localStorage.setItem(STORAGE_KEY, JSON.stringify(events));
            }, [events]);

            // Arka plan slayt gÃ¶sterisi
            useEffect(() => {
                const interval = setInterval(() => {
                    setCurrentBgIndex((prev) => (prev + 1) % backgroundImages.length);
                }, 8000);
                return () => clearInterval(interval);
            }, []);

            // Geri sayÄ±m hesaplama
            const calculateTimeLeft = () => {
                const now = new Date().getTime();
                const newTimeLeft = {};

                events.forEach(event => {
                    const difference = new Date(event.date).getTime() - now;

                    if (difference > 0) {
                        newTimeLeft[event.id] = {
                            days: Math.floor(difference / (1000 * 60 * 60 * 24)),
                            hours: Math.floor((difference / (1000 * 60 * 60)) % 24),
                            minutes: Math.floor((difference / 1000 / 60) % 60),
                            seconds: Math.floor((difference / 1000) % 60),
                        };
                    } else {
                        newTimeLeft[event.id] = null;
                    }
                });

                setTimeLeft(newTimeLeft);
            };

            useEffect(() => {
                calculateTimeLeft();
                const timer = setInterval(calculateTimeLeft, 1000);
                return () => clearInterval(timer);
            }, [events]);

            const handleAddEvent = (e) => {
                e.preventDefault();
                if (!newEvent.title || !newEvent.date) return;

                let colorGradient = "from-pink-400 to-purple-400";
                if (newEvent.category === 'concert') colorGradient = "from-rose-400 to-orange-300";
                if (newEvent.category === 'birthday') colorGradient = "from-purple-400 to-blue-400";
                if (newEvent.category === 'debut') colorGradient = "from-yellow-400 to-orange-400";

                const event = {
                    id: Date.now(),
                    title: newEvent.title,
                    date: newEvent.date,
                    category: newEvent.category,
                    color: colorGradient
                };

                setEvents([...events, event]);
                setNewEvent({ title: '', date: '', category: 'comeback' });
                setShowModal(false);
            };

            const handleDeleteEvent = (id) => {
                setEvents(events.filter(event => event.id !== id));
            };

            return (
                <div className="min-h-screen text-gray-800 relative overflow-hidden">

                    {/* Background Slideshow */}
                    <div className="fixed inset-0 z-0">
                        {backgroundImages.map((img, index) => (
                            <div
                                key={img}
                                className={`absolute inset-0 bg-cover bg-center transition-opacity duration-[2000ms] ease-in-out ${
                                    index === currentBgIndex ? 'opacity-100' : 'opacity-0'
                                }`}
                                style={{ backgroundImage: `url(${img})` }}
                            />
                        ))}
                        <div className="absolute inset-0 bg-black/40 backdrop-blur-[2px]"></div>
                    </div>

                    {/* Header */}
                    <header className="sticky top-0 z-20 border-b border-white/20 shadow-lg bg-white/10 backdrop-blur-xl">
                        <div className="max-w-4xl mx-auto px-4 md:px-6 py-4 flex justify-between items-center">
                            <div className="flex items-center gap-2">
                                <div className="bg-gradient-to-r from-pink-500 to-purple-500 p-2 rounded-xl text-white shadow-lg shadow-pink-500/30">
                                    <Sparkles size={24} />
                                </div>
                                <h1 className="text-xl md:text-2xl font-bold text-white tracking-tight drop-shadow-md">
                                    K-POP COUNTDOWN
                                </h1>
                            </div>
                            <button
                                onClick={() => setShowModal(true)}
                                className="bg-white/20 hover:bg-white/30 text-white px-3 md:px-4 py-2 rounded-full flex items-center gap-2 transition-all shadow-lg hover:shadow-xl active:scale-95 text-sm font-bold backdrop-blur-md border border-white/30"
                            >
                                <Plus size={18} />
                                <span className="hidden sm:inline">Yeni Etkinlik</span>
                            </button>
                        </div>
                    </header>

                    {/* Main Content */}
                    <main className="max-w-4xl mx-auto px-4 md:px-6 py-6 md:py-8 relative z-10">

                        {/* Video BÃ¶lÃ¼mÃ¼ */}
                        <div className="mb-6 md:mb-8 bg-white/90 backdrop-blur-xl rounded-3xl p-4 md:p-6 shadow-xl shadow-pink-500/20 border border-white/50 relative overflow-hidden group hover:shadow-pink-500/40 transition-shadow">
                            <div className="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500"></div>
                            <h2 className="text-lg md:text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
                                <PlayCircle className="text-pink-500" size={24} />
                                Ã–zel Video: SabÄ±rsÄ±z KÄ±z Ä°Ã§in
                            </h2>
                            <div className="relative rounded-2xl overflow-hidden shadow-inner bg-black aspect-video">
                                <video
                                    controls
                                    className="w-full h-full object-contain"
                                    poster="https://images.unsplash.com/photo-1516280440614-6697288d5d38?q=80&w=1920&auto=format&fit=crop"
                                >
                                    <source src="SabÄ±rsÄ±z_KÄ±z_Ä°Ã§in_Video_Ä°steÄŸi.mp4" type="video/mp4" />
                                    TarayÄ±cÄ±nÄ±z video etiketini desteklemiyor.
                                </video>
                            </div>
                        </div>

                        {events.length === 0 ? (
                            <div className="text-center py-16 md:py-20 bg-white/10 backdrop-blur-md rounded-3xl border border-white/20 shadow-2xl">
                                <Music size={64} className="mx-auto text-pink-300 mb-4 drop-shadow-lg" />
                                <p className="text-xl text-white font-medium">HenÃ¼z planlanmÄ±ÅŸ bir etkinlik yok.</p>
                                <p className="text-sm text-gray-200 mt-2">Bias'Ä±nÄ±n doÄŸum gÃ¼nÃ¼ veya comeback tarihi ekle!</p>
                            </div>
                        ) : (
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6">
                                {events.map((event) => {
                                    const time = timeLeft[event.id];
                                    const categoryData = categories[event.category];

                                    return (
                                        <div key={event.id} className="group relative bg-white/90 backdrop-blur-xl rounded-3xl p-5 md:p-6 shadow-xl shadow-black/20 border border-white/50 hover:-translate-y-1 transition-all duration-300 overflow-hidden">
                                            <div className={`absolute -top-10 -right-10 w-32 h-32 bg-gradient-to-br ${event.color} rounded-full blur-3xl opacity-20 group-hover:opacity-40 transition-opacity`}></div>

                                            <div className="relative z-10">
                                                <div className="flex justify-between items-start mb-4">
                                                    <span className={`flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ${categoryData.bg} ${categoryData.text}`}>
                                                        {categoryData.icon}
                                                        {categoryData.label}
                                                    </span>
                                                    <button
                                                        onClick={() => handleDeleteEvent(event.id)}
                                                        className="text-gray-400 hover:text-red-500 transition-colors p-1"
                                                    >
                                                        <Trash2 size={18} />
                                                    </button>
                                                </div>

                                                <h3 className="text-lg md:text-xl font-bold text-gray-800 mb-1 truncate leading-tight">
                                                    {event.title}
                                                </h3>
                                                <p className="text-gray-500 text-xs flex items-center gap-1 mb-5 md:mb-6 font-medium">
                                                    <Calendar size={12} />
                                                    {new Date(event.date).toLocaleDateString('tr-TR', { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit' })}
                                                </p>

                                                {time ? (
                                                    <div className="grid grid-cols-4 gap-2 text-center">
                                                        <TimerBox value={time.days} label="GÃœN" color={event.color} />
                                                        <TimerBox value={time.hours} label="SAAT" color={event.color} />
                                                        <TimerBox value={time.minutes} label="DAK" color={event.color} />
                                                        <TimerBox value={time.seconds} label="SN" color={event.color} />
                                                    </div>
                                                ) : (
                                                    <div className={`bg-gradient-to-r ${event.color} text-white text-center py-4 rounded-2xl font-bold text-lg animate-pulse shadow-md`}>
                                                        ZAMANI GELDÄ°! ðŸŽ‰
                                                    </div>
                                                )}
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>
                        )}
                    </main>

                    {/* Add Modal */}
                    {showModal && (
                        <div className="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4">
                            <div className="bg-white rounded-3xl shadow-2xl w-full max-w-md p-6 relative border border-white/20">
                                <h2 className="text-xl md:text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2">
                                    <Sparkles className="text-pink-500" size={24} />
                                    Etkinlik Ekle
                                </h2>

                                <form onSubmit={handleAddEvent} className="space-y-4">
                                    <div>
                                        <label className="block text-sm font-bold text-gray-700 mb-1">BaÅŸlÄ±k</label>
                                        <input
                                            type="text"
                                            placeholder="Ã–rn: Yeni AlbÃ¼m Ã‡Ä±kÄ±ÅŸÄ±"
                                            className="w-full px-4 py-3 rounded-xl border-2 border-gray-100 focus:border-pink-500 focus:outline-none transition-all font-medium"
                                            value={newEvent.title}
                                            onChange={(e) => setNewEvent({ ...newEvent, title: e.target.value })}
                                            required
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-bold text-gray-700 mb-1">Tarih ve Saat</label>
                                        <input
                                            type="datetime-local"
                                            className="w-full px-4 py-3 rounded-xl border-2 border-gray-100 focus:border-pink-500 focus:outline-none transition-all text-gray-600 font-medium"
                                            value={newEvent.date}
                                            onChange={(e) => setNewEvent({ ...newEvent, date: e.target.value })}
                                            required
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-bold text-gray-700 mb-1">Kategori</label>
                                        <div className="grid grid-cols-2 gap-2">
                                            {Object.entries(categories).map(([key, value]) => (
                                                <button
                                                    key={key}
                                                    type="button"
                                                    onClick={() => setNewEvent({ ...newEvent, category: key })}
                                                    className={`p-3 rounded-xl text-sm font-bold border-2 transition-all flex items-center justify-center gap-2 ${
                                                        newEvent.category === key
                                                            ? 'border-pink-500 bg-pink-50 text-pink-700'
                                                            : 'border-gray-100 hover:border-pink-200 text-gray-500 hover:bg-gray-50'
                                                    }`}
                                                >
                                                    {value.icon}
                                                    {value.label}
                                                </button>
                                            ))}
                                        </div>
                                    </div>

                                    <div className="flex gap-3 mt-8">
                                        <button
                                            type="button"
                                            onClick={() => setShowModal(false)}
                                            className="flex-1 px-4 py-3 rounded-xl border-2 border-gray-100 text-gray-600 font-bold hover:bg-gray-50 transition-colors"
                                        >
                                            Ä°ptal
                                        </button>
                                        <button
                                            type="submit"
                                            className="flex-1 px-4 py-3 rounded-xl bg-gradient-to-r from-pink-500 to-purple-500 text-white font-bold hover:shadow-lg hover:shadow-pink-200 transition-all active:scale-95"
                                        >
                                            OluÅŸtur
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
